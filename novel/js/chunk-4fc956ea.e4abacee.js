(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fc956ea"],{1574:function(t,o,a){},1829:function(t,o,a){"use strict";a("1574")},b0c0:function(t,o,a){var s=a("83ab"),n=a("9bf2").f,i=Function.prototype,e=i.toString,r=/^\s*function ([^ (]*)/,c="name";s&&!(c in i)&&n(i,c,{configurable:!0,get:function(){try{return e.call(this).match(r)[1]}catch(t){return""}}})},c84b:function(t,o,a){"use strict";a.r(o);var s=function(){var t=this,o=t.$createElement,a=t._self._c||o;return t.bookinfo?a("div",{staticClass:"Detail"},[a("div",{staticClass:"module"},[a("van-nav-bar",{attrs:{title:t.bookinfo.title,"left-arrow":""},on:{"click-left":function(o){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[a("van-icon",{attrs:{name:"search",size:"18"}})]},proxy:!0}],null,!1,587945800)}),a("img",{staticClass:"book-cover-blur",attrs:{src:"http://statics.zhuishushenqi.com"+t.bookinfo.cover,alt:""}}),a("div",{staticClass:"book-detail-info"},[a("div",{staticClass:"book-layout"},[a("img",{staticClass:"book-cover",attrs:{src:"http://statics.zhuishushenqi.com"+t.bookinfo.cover,alt:""}}),a("div",{staticClass:"book-cell"},[a("h2",{staticClass:"book-title"},[t._v(t._s(t.bookinfo.title))]),a("div",{staticClass:"book-rand-a"},[t._v(t._s(t.bookinfo.author))]),a("div",{staticClass:"book-score"},[a("output",{staticClass:"star-group"},[a("span",{staticClass:"star-score"},[t._v(t._s(t.bookinfo.rating.score))])]),a("span",{staticClass:"gray"},[t._v(t._s(t.bookinfo.rating.score)+"分/"+t._s(t.bookinfo.rating.count)+"人评过")])]),a("p",{staticClass:"book-meta"},[t._v(t._s(t.bookinfo.majorCate)+"/"+t._s(t.bookinfo.minorCate))]),a("p",{staticClass:"book-meta"},[t._v(" "+t._s(t._f("wordCount")(t.bookinfo.wordCount))),a("span",{staticClass:"char-pipe"},[t._v("|")]),t._v(t._s(t.bookinfo.updated)+" ")])])]),a("div",{staticClass:"book-detail-btn"},[a("van-button",{attrs:{type:"default",size:"small"},on:{click:function(o){return t.$router.push(t.$route.fullPath+"/read")}}},[t._v("开始阅读")]),t.bookrack.find((function(o){return o==t.$route.params.id}))?a("van-button",{attrs:{type:"danger",size:"small"},on:{click:function(o){return t.removeBookrack(t.$route.params.id)}}},[t._v("移除书架")]):a("van-button",{attrs:{type:"default",size:"small"},on:{click:function(o){return t.addBookrack(t.$route.params.id)}}},[t._v("加入书架")]),a("van-button",{attrs:{type:"default",size:"small"}},[t._v("订阅")])],1)])],1),a("div",{staticClass:"contentInfo"},[a("div",{staticClass:"book-summary",class:{openContent:t.isDologin},on:{click:function(o){return t.open(t.isDologin)}}},[t._v(" "+t._s(t.bookinfo.longIntro)+" "),a("span",{staticClass:"book-summary-more"},[a("van-icon",{class:{turn:t.isDologin},attrs:{name:"arrow"}})],1)]),a("div",{staticClass:"book-meta"},[t._m(0),a("div",{staticClass:"book-meta-r"},[a("p",{staticClass:"catalog",on:{click:function(o){return t.$router.push(t.$route.fullPath+"/chapter")}}},[t._v(t._s(t.bookinfo.lastChapter))]),a("span",{staticClass:"icon-r"},[a("van-icon",{attrs:{name:"arrow"}})],1)])])])]):t._e()},n=[function(){var t=this,o=t.$createElement,a=t._self._c||o;return a("div",{staticClass:"book-meta-l"},[a("strong",{staticClass:"book-spt"},[t._v("目录")])])}],i=(a("b0c0"),a("b680"),a("5530")),e=a("2f62"),r={data:function(){return{bookinfo:null,isDologin:!1}},computed:Object(e["c"])(["bookrack"]),methods:Object(i["a"])(Object(i["a"])({},Object(e["b"])(["addBookrack","removeBookrack"])),{},{open:function(t){this.isDologin=!t}}),beforeRouteEnter:function(t,o,a){window.axios.get("http://novel.kele8.cn/book-info/"+t.params.id).then((function(t){a((function(o){o.bookinfo=t.data,o.$store.commit("updateBookInfo",t.data)}))}))},beforeRouteLeave:function(t,o,a){var s=this;"Read"!=t.name&&"Chapter"!=t.name||(console.log("获取章节"),this.axios.get("http://novel.kele8.cn/book-sources?view=summary&book="+this.bookinfo._id).then((function(t){console.log(t.data[0]._id),s.axios.get("http://novel.kele8.cn/book-chapters/"+t.data[0]._id).then((function(t){s.$store.commit("updateChapter",t.data),a()}))}))),a()},filters:{wordCount:function(t){return(t/1e4).toFixed(2)+"万字"}}},c=r,l=(a("1829"),a("2877")),u=Object(l["a"])(c,s,n,!1,null,null,null);o["default"]=u.exports}}]);
//# sourceMappingURL=chunk-4fc956ea.e4abacee.js.map