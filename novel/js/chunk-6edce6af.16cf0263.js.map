{"version":3,"sources":["webpack:///./src/views/Rank.vue?44a1","webpack:///./src/views/Rank.vue?47a1","webpack:///src/views/Rank.vue","webpack:///./src/views/Rank.vue?8b81","webpack:///./src/views/Rank.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","push","scopedSlots","_u","key","fn","proxy","class","active","type","_v","model","value","callback","$$v","activeKey","expression","_l","rankCategory","cat","index","shortTitle","loading","ranking","book","_id","_e","staticRenderFns","component"],"mappings":"yIAAA,W,2CCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,MAAM,YAAY,KAAK,aAAa,IAAIC,GAAG,CAAC,aAAa,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,OAAOC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACX,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,SAAS,KAAO,UAAUS,OAAM,OAAUZ,EAAG,KAAK,CAACE,YAAY,UAAU,CAACF,EAAG,KAAK,CAACa,MAAM,CAAEC,OAAoB,QAAZlB,EAAImB,MAAiBX,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,sBAAsB,CAACX,EAAIoB,GAAG,UAAUhB,EAAG,KAAK,CAACa,MAAM,CAAEC,OAAoB,UAAZlB,EAAImB,MAAmBX,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,wBAAwB,CAACX,EAAIoB,GAAG,UAAUhB,EAAG,KAAK,CAACa,MAAM,CAAEC,OAAoB,QAAZlB,EAAImB,MAAiBX,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOT,EAAIU,QAAQC,KAAK,sBAAsB,CAACX,EAAIoB,GAAG,YAAYhB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,cAAc,CAACiB,MAAM,CAACC,MAAOtB,EAAa,UAAEuB,SAAS,SAAUC,GAAMxB,EAAIyB,UAAUD,GAAKE,WAAW,cAAc1B,EAAI2B,GAAI3B,EAAI4B,aAAa5B,EAAImB,OAAO,SAASU,EAAIC,GAAO,OAAO1B,EAAG,mBAAmB,CAACU,IAAIgB,EAAMvB,MAAM,CAAC,MAAQsB,EAAIE,iBAAgB,GAAG3B,EAAG,KAAK,CAACE,YAAY,SAAS,CAACF,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,GAAG,OAAS,GAAG,IAAM,EAAE,QAAUP,EAAIgC,UAAU,CAAEhC,EAAW,QAAEA,EAAI2B,GAAI3B,EAAIiC,QAAa,OAAE,SAASC,GAAM,OAAO9B,EAAG,YAAY,CAACU,IAAIoB,EAAKC,IAAI5B,MAAM,CAAC,KAAO2B,QAAUlC,EAAIoC,MAAM,IAAI,IAAI,IAAI,IACt2CC,EAAkB,G,oCCyCtB,GACA,YACA,kBAEA,KAJA,WAKA,OACA,WACA,YACA,YACA,eAGA,2BACA,kCAGA,SACA,kCACA,gBACA,kEAIA,yBAIA,iBAGA,oBACA,mEAEA,gBACA,uBAIA,QAtCA,WAuCA,gBACA,aAEA,iBA1CA,SA0CA,OAEA,eACA,gCAGA,kBAhDA,SAgDA,OAEA,+BACA,KAGA,OACA,gBACA,iBACA,iBAEA,qBACA,mBCtG8U,I,wBCQ1UC,EAAY,eACd,EACAvC,EACAsC,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"js/chunk-6edce6af.16cf0263.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ranks\"},[_c('van-nav-bar',{attrs:{\"title\":\"排行榜\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.push('/')}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"search\",\"size\":\"18\"}})]},proxy:true}])}),_c('ul',{staticClass:\"tabbar\"},[_c('li',{class:{ active: _vm.type == 'male' },on:{\"click\":function($event){return _vm.$router.push('/rank?type=male')}}},[_vm._v(\" 男生 \")]),_c('li',{class:{ active: _vm.type == 'female' },on:{\"click\":function($event){return _vm.$router.push('/rank?type=female')}}},[_vm._v(\" 女生 \")]),_c('li',{class:{ active: _vm.type == 'epub' },on:{\"click\":function($event){return _vm.$router.push('/rank?type=epub')}}},[_vm._v(\" 出版 \")])]),_c('div',{staticClass:\"tab-content\"},[_c('van-sidebar',{model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((_vm.rankCategory[_vm.type]),function(cat,index){return _c('van-sidebar-item',{key:index,attrs:{\"title\":cat.shortTitle}})}),1),_c('ul',{staticClass:\"right\"},[_c('van-skeleton',{attrs:{\"title\":\"\",\"avatar\":\"\",\"row\":3,\"loading\":_vm.loading}},[(_vm.ranking)?_vm._l((_vm.ranking.books),function(book){return _c('BookItem2',{key:book._id,attrs:{\"book\":book}})}):_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\t<div class=\"ranks\">\r\n\t\t<van-nav-bar title=\"排行榜\" left-text=\"返回\" left-arrow @click-left=\"$router.push('/')\">\r\n\t\t\t<template #right>\r\n\t\t\t\t<van-icon name=\"search\" size=\"18\" />\r\n\t\t\t</template>\r\n\t\t</van-nav-bar>\r\n\t\t<ul class=\"tabbar\">\r\n\t\t\t<li :class=\"{ active: type == 'male' }\" @click=\"$router.push('/rank?type=male')\">\r\n\t\t\t\t男生\r\n\t\t\t</li>\r\n\t\t\t<li :class=\"{ active: type == 'female' }\" @click=\"$router.push('/rank?type=female')\">\r\n\t\t\t\t女生\r\n\t\t\t</li>\r\n\t\t\t<li :class=\"{ active: type == 'epub' }\" @click=\"$router.push('/rank?type=epub')\">\r\n\t\t\t\t出版\r\n\t\t\t</li>\r\n\r\n\r\n\t\t</ul>\r\n\r\n\t\t<div class=\"tab-content\">\r\n\t\t\t<van-sidebar v-model=\"activeKey\">\r\n\t\t\t\t<van-sidebar-item v-for=\"(cat, index) in rankCategory[type]\" :key=\"index\" :title=\"cat.shortTitle\" />\r\n\t\t\t</van-sidebar>\r\n\r\n\t\t\t<ul class=\"right\">\r\n\t\t\t\t<van-skeleton title avatar :row=\"3\" :loading=\"loading\">\r\n\t\t\t\t\t<template v-if=\"ranking\">\r\n\t\t\t\t\t\t<BookItem2 v-for=\"book in ranking.books\" :key=\"book._id\" :book=\"book\"></BookItem2>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t</van-skeleton>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\timport BookItem2 from \"@/components/BookItem2.vue\"\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tBookItem2\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttype: \"epub\",\r\n\t\t\t\tactiveKey: 0,\r\n\t\t\t\tranking: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\"rankCategory\"]),\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tgetRanking: function(id) {\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tthis.axios.get(\"http://novel.kele8.cn/rank/\" + id).then((response) => {\r\n\t\t\t\t\t// console.log(response.data.ranking);\r\n\r\n\t\t\t\t\t// todo  缓存不同id 列表\r\n\t\t\t\t\tthis.ranking = response.data.ranking;\r\n\t\t\t\t\t// console.log(this[id]);\r\n\t\t\t\t\t// response.data.ranking\r\n\r\n\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetLists: function() {\r\n\t\t\t\tthis.getRanking(this.rankCategory[this.type][this.activeKey]._id);\r\n\t\t\t},\r\n\t\t\tmenu: function() {\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t\tthis.getLists();\r\n\t\t\tthis.menu();\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t\t// ...\r\n\t\t\tnext((vm) => {\r\n\t\t\t\tvm.type = to.query.type || \"male\";\r\n\t\t\t});\r\n\t\t},\r\n\t\tbeforeRouteUpdate(to, from, next) {\r\n\t\t\t// ...\r\n\t\t\tthis.type = to.query.type || \"male\";\r\n\t\t\tnext();\r\n\t\t},\r\n\r\n\t\twatch: {\r\n\t\t\ttype: function() {\r\n\t\t\t\tthis.activeKey = 0;\r\n\t\t\t\tthis.getLists();\r\n\t\t\t},\r\n\t\t\tactiveKey: function() {\r\n\t\t\t\tthis.getLists();\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n\t.ranks {\r\n\t\t.van-nav-bar {\r\n\t\t\t.van-nav-bar__content {\r\n\t\t\t\tbackground-color: #ed424b;\r\n\r\n\t\t\t\t.van-nav-bar__text {\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.van-nav-bar__title {\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.van-icon-arrow-left {\r\n\t\t\t\t\t&::before {\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t.van-icon-search::before{\r\n\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.tabbar {\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\tli {\r\n\t\t\t\tlist-style: none;\r\n\t\t\t\tflex: 1;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tline-height: 40px;\r\n\t\t\t\tcolor: #8a8a8f;\r\n\t\t\t\tfont-size: 14px;\r\n\r\n\t\t\t\t&.active {\r\n\t\t\t\t\tcolor: #ed424b;\r\n\t\t\t\t\tposition: relative;\r\n\r\n\t\t\t\t\t&::before {\r\n\t\t\t\t\t\tcontent: \"\";\r\n\t\t\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t\t\twidth: 34px;\r\n\t\t\t\t\t\theight: 1px;\r\n\t\t\t\t\t\tbackground-color: #ed424b;\r\n\t\t\t\t\t\t// border: 7px solid;\r\n\t\t\t\t\t\t// border-color: transparent transparent #fff;\r\n\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\t\tmargin-left: -17px;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.tab-content {\r\n\t\t\tdisplay: flex;\r\n\r\n\t\t\t.van-sidebar {\r\n\t\t\t\theight: calc(100vh - 40px);\r\n\t\t\t\toverflow-y: scroll;\r\n\r\n\t\t\t\t.van-sidebar-item--select::before {\r\n\t\t\t\t\tbackground-color: #ed424b;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::-webkit-scrollbar {\r\n\t\t\t\t\tdisplay: none;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.right {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\theight: calc(100vh - 40px);\r\n\t\t\t\toverflow-y: scroll;\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rank.vue?vue&type=template&id=1ead676b&\"\nimport script from \"./Rank.vue?vue&type=script&lang=js&\"\nexport * from \"./Rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rank.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}